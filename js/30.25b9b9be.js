(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{"5f58":function(t,e,n){},"7ef5":function(t,e,n){"use strict";n("5f58")},a468:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"bg column justify-center"},[n("div",{staticClass:"full-width full-height"},[n("div",{staticClass:"constrain"},[n("div",{staticClass:" row",class:t.isDeskTop?"justify-end":"justify-center"},[n("div",{staticClass:"desktop-settings"},[n("q-card",{staticClass:"q-pa-md login-card"},[n("q-card-section",{staticClass:"q-pa-md text-center"},[n("div",{staticClass:"text-h5 text-weight-bold"},[t._v("BOOK BUTTERFLY "+t._s(t.$t("login")))])]),n("form",{on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[n("q-card-section",[n("email-input",{ref:"inputEmail",attrs:{email:t.user.email},on:{"update:email":function(e){return t.$set(t.user,"email",e)}}}),n("password-input",{ref:"inputPassword",attrs:{password:t.user.password},on:{"update:password":function(e){return t.$set(t.user,"password",e)}}}),n("q-card-actions",{attrs:{align:"center"}},[n("q-btn",{attrs:{label:t.$t("submitLogin"),type:"submit",color:"primary"}})],1)],1)],1),n("q-card-section",{staticClass:"q-pa-md text-center",staticStyle:{cursor:"pointer"},on:{click:t.toSignupPage}},[n("div",{staticClass:"text-body2 text-weight-bold"},[t._v(t._s(t.$t("loginMessage")))])])],1)],1)])])])])},a=[],r=n("c973"),i=n.n(r),o=n("ded3"),c=n.n(o),u=(n("96cf"),n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0"),n("ac1f"),n("5319"),n("2f62")),l={name:"PageLogin",components:{EmailInput:function(){return n.e(11).then(n.bind(null,"084c"))},PasswordInput:function(){return n.e(12).then(n.bind(null,"d6c4"))}},data:function(){return{user:{email:"",password:""},loading:!1}},computed:c()(c()({},Object(u["c"])("auth",["isLoggedIn"])),{},{isDeskTop:function(){return window.innerWidth>600}}),created:function(){this.isLoggedIn&&this.$router.push("/home")},methods:c()(c()({},Object(u["b"])("auth",["login"])),{},{toSignupPage:function(){this.$router.push({path:"/auth/signup"})},handleLogin:function(){var t=this;return i()(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.inputEmail.$refs.email.validate(),t.$refs.inputPassword.$refs.password.validate(),t.$refs.inputEmail.$refs.email.hasError||t.$refs.inputPassword.$refs.password.hasError){e.next=18;break}return t.loading=!0,e.prev=4,e.next=7,t.login(t.user);case 7:return n="/"+(t.$route.query.redirect||"home"),e.next=10,t.$router.replace(n);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),console.log(e.t0);case 15:t.loading=!1,e.next=19;break;case 18:t.$q.notify({message:"You have unvalidated fields",color:"red",position:"top"});case 19:case"end":return e.stop()}}),e,null,[[4,12]])})))()}})},d=l,p=(n("7ef5"),n("2877")),f=n("9989"),g=n("f09f"),m=n("a370"),h=n("4b7e"),w=n("9c40"),b=n("eebe"),v=n.n(b),$=Object(p["a"])(d,s,a,!1,null,"5cbc54d2",null);e["default"]=$.exports;v()($,"components",{QPage:f["a"],QCard:g["a"],QCardSection:m["a"],QCardActions:h["a"],QBtn:w["a"]})}}]);