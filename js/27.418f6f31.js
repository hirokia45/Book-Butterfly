(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"713b":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{attrs:{view:"lHh Lpr lFf"}},[t.isNotAuthPage&&!t.isLoading?e("q-header",{staticClass:"text-grey-10",attrs:{elevated:""}},[e("q-toolbar",{staticClass:"constrain"},[t.isLoggedIn?e("q-avatar",{staticClass:"small-screen-only",attrs:{color:"white"}},[e("img",{attrs:{src:t.loggedInUser.avatar}})]):t._e(),e("q-toolbar-title",{staticClass:"text-gochi-hand text-bold"},[t._v("\n        Book ButterFly\n      ")]),t.isLoggedIn?[e("q-btn",{staticClass:"large-screen-only",attrs:{to:"/home",icon:"eva-home-outline",size:"18px",flat:"",round:""}}),e("q-btn",{staticClass:"large-screen-only",attrs:{to:"/library",icon:"eva-book-open-outline",size:"18px",flat:"",round:""}}),e("q-btn",{staticClass:"large-screen-only",attrs:{to:"/notifications",icon:"eva-email-outline",size:"18px",flat:"",round:""}},[t.totalNotificationsUnconfirmed>0?e("q-badge",{staticStyle:{right:"5px",top:"7px"},attrs:{color:"red",floating:""}},[t._v("\n              "+t._s(t.totalNotificationsUnconfirmed)+"\n            ")]):t._e()],1),e("q-fab",{staticClass:"settings-mobile",attrs:{"vertical-actions-align":"right",color:"grey-10",flat:"",size:"18px",icon:"eva-settings-2-outline",direction:"down"},model:{value:t.fab,callback:function(a){t.fab=a},expression:"fab"}},[e("q-fab-action",{attrs:{color:"secondary",icon:"eva-person","label-position":"left",label:t.$t("profile"),square:"",to:"/profile"}}),e("q-fab-action",{attrs:{color:"primary",icon:"eva-settings-outline","label-position":"left",label:t.$t("settings"),square:"",to:"/settings"}}),e("q-fab-action",{attrs:{color:"deep-orange-3",icon:"eva-log-out","label-position":"left",label:t.$t("logout"),square:""},on:{click:t.logOut}})],1),e("q-avatar",{staticClass:"large-screen-only q-ml-sm",attrs:{color:"white"}},[e("img",{attrs:{src:t.loggedInUser.avatar}})])]:[e("q-btn",{staticClass:"large-screen-only",staticStyle:{color:"primary"},attrs:{to:"/auth/login",label:t.$t("login"),size:"18px",flat:""}}),e("q-btn",{staticClass:"large-screen-only",attrs:{to:"/auth/signup",label:t.$t("signup"),size:"18px",flat:""}}),e("div",{staticClass:"small-screen-only"},[e("q-fab",{staticClass:"absolute-right",attrs:{"vertical-actions-align":"right",color:"grey-10",flat:"",size:"18px",icon:"eva-settings-2-outline",direction:"down"},model:{value:t.fab,callback:function(a){t.fab=a},expression:"fab"}},[e("q-fab-action",{attrs:{color:"secondary",icon:"eva-person","label-position":"left",label:t.$t("login"),square:"",to:"/auth/login"}}),e("q-fab-action",{attrs:{color:"primary",icon:"eva-person-add","label-position":"left",label:t.$t("signup"),square:"",to:"/auth/signup"}})],1)],1)]],2)],1):t._e(),t.isLoggedIn&&!t.isLoading?e("q-footer",{staticClass:"bg-white",attrs:{bordered:""}},[e("q-tabs",{staticClass:"text-grey-8  small-screen-only",attrs:{"active-color":"secondary","indicator-color":"transparent"}},[e("q-route-tab",{attrs:{to:"/library",icon:"eva-book-open-outline"}}),e("q-route-tab",{attrs:{to:"/home",icon:"eva-home-outline"}}),e("q-route-tab",{attrs:{to:"/notifications",icon:"eva-email-outline"}},[t.totalNotificationsUnconfirmed>0?e("q-badge",{attrs:{color:"red",floating:""}},[t._v("\n          "+t._s(t.totalNotificationsUnconfirmed)+"\n        ")]):t._e()],1)],1)],1):t._e(),e("q-page-container",{staticClass:"bg-brown-1"},[e("keep-alive",{attrs:{include:["PageHome"]}},[e("router-view")],1)],1)],1)},n=[],i=e("c973"),s=e.n(i),r=e("ded3"),l=e.n(r),c=(e("96cf"),e("ac1f"),e("5319"),e("2f62")),u={data:function(){return{fab:!1}},computed:l()(l()(l()({},Object(c["c"])("auth",["isLoggedIn","loggedInUser"])),Object(c["c"])("notifications",["totalNotificationsUnconfirmed"])),{},{isNotAuthPage:function(){return"/auth/login"!==this.$route.path&&"/auth/signup"!==this.$route.path},isLoading:function(){return"/welcome"===this.$route.path&&this.isLoggedIn}}),watch:{watchLoggedInStat:function(t,a){this.isLoggedIn||this.$router.replace("/auth/login")},totalNotificationsUnconfirmed:function(t,a){}},created:function(){this.checkSystemAvailabilities()},mounted:function(){window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault()}))},methods:l()(l()(l()({},Object(c["b"])("auth",["logout"])),Object(c["b"])("system",["checkSystemAvailabilities"])),{},{logOut:function(){var t=this;return s()(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.logout();case 3:"/auth/login"!==t.$route.path&&"/auth/signup"!==t.$route.path&&"/welcome"!==t.$route.path&&t.$router.push("/welcome"),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),console.error(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}})},g=u,b=(e("f266"),e("2877")),f=e("4d5a"),d=e("e359"),p=e("65c6"),h=e("cb32"),m=e("6ac5"),v=e("9c40"),q=e("58a81"),y=e("c294"),w=e("72db"),x=e("7ff0"),C=e("429b"),$=e("7867"),Q=e("09e3"),k=e("7460"),L=e("eebe"),_=e.n(L),I=Object(b["a"])(g,o,n,!1,null,"2cc8543c",null);a["default"]=I.exports;_()(I,"components",{QLayout:f["a"],QHeader:d["a"],QToolbar:p["a"],QAvatar:h["a"],QToolbarTitle:m["a"],QBtn:v["a"],QBadge:q["a"],QFab:y["a"],QFabAction:w["a"],QFooter:x["a"],QTabs:C["a"],QRouteTab:$["a"],QPageContainer:Q["a"],QTab:k["a"]})},e47e:function(t,a,e){},f266:function(t,a,e){"use strict";e("e47e")}}]);