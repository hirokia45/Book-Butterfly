(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"02d9":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("q-card",{staticClass:"full-width modal-frame"},[a("modal-header",[t._v(t._s(t.$t("bookDetailsHeader")))]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-5 text-center"},[t.book.completed?a("q-avatar",{staticClass:"absolute-top-right q-pa-xs",staticStyle:{right:"8px"},attrs:{size:"60px"}},[a("img",{attrs:{src:e("700d")}})]):t._e(),[t.book.volumeInfo.imageLinks?[a("img",{class:t.thumbnailSize,attrs:{src:t.book.volumeInfo.imageLinks.thumbnail}})]:[a("img",{class:t.thumbnailSize,attrs:{src:e("2014")}})]]],2),a("div",{staticClass:"col-12 col-sm-7"},[a("div",{staticClass:"text-h6"},[t._v(t._s(t.book.volumeInfo.title))]),a("div",{staticClass:"text-caption"},[t._v(t._s(t.book.volumeInfo.subtitle))]),t.book.volumeInfo.authors?a("div",{staticClass:"text-subtitle2"},[t._v("\n          by "+t._s(t.author)+"\n        ")]):t._e(),t._l(t.book.volumeInfo.categories,(function(o,e){return a("div",{key:"first-"+e,staticClass:"text-caption"},[t._v("\n          "+t._s(t.$t("category"))+": "+t._s(t.book.volumeInfo.mainCategory||o)+"\n        ")])})),t.isSearchTab?a("div",{staticClass:"row"},[a("div",[a("q-rating",{attrs:{size:"sm",color:"orange",readonly:""},model:{value:t.ratings,callback:function(o){t.ratings=o},expression:"ratings"}})],1),a("div",{staticClass:"q-ml-sm column justify-center text-blue"},[t._v("\n            "+t._s(t.book.volumeInfo.ratingsCount||0)+" rating\n          ")])]):t._e(),a("q-separator",{staticClass:"q-my-sm"}),a("div",{staticClass:"text-body2"},[t._v(t._s(t.book.volumeInfo.description))]),a("q-separator",{staticClass:"q-my-sm"}),a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.$t("publisher"))+": "+t._s(t.book.volumeInfo.publisher))]),a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.$t("publishedDate"))+": "+t._s(t.book.volumeInfo.publishedDate))]),t.isSearchTab?a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.$t("language"))+": "+t._s(t.language))]):t._e(),t.isSearchTab?a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.$t("pages"))+": "+t._s(t.book.volumeInfo.pageCount)+"p")]):t._e(),t.isSearchTab?[t.book.saleInfo.listPrice?a("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.$t("price"))+": "+t._s(t.book.saleInfo.listPrice.amount)+" "+t._s(t.book.saleInfo.listPrice.currencyCode))]):t._e()]:t._e(),t.isBookShelfTab?a("div",{staticClass:"q-gutter-y-md q-mt-xs text-center"},[a("q-rating",{attrs:{readonly:"",flat:"",max:4,size:"3em",color:"green-5",icon:t.icons},model:{value:t.book.myRate,callback:function(o){t.$set(t.book,"myRate",o)},expression:"book.myRate"}})],1):t._e()],2)])]),t.isBookShelfTab?a("q-card-section",{staticClass:"modal-bottom-section row justify-between"},[a("q-fab",{staticClass:"button-position grey-gradient-background",attrs:{"vertical-actions-align":"right",icon:"eva-arrow-ios-upward-outline",direction:"up"},model:{value:t.myBookFab,callback:function(o){t.myBookFab=o},expression:"myBookFab"}},[a("q-fab-action",{staticClass:"danger-gradient-background",attrs:{dense:"",rounded:"","text-color":"white",icon:"eva-trash-2-outline",label:t.$t("deleteButton")},on:{click:function(o){return t.promptToRemove(t.book._id)}}}),a("q-fab-action",{staticClass:"primary-gradient-background",attrs:{"text-color":"white",label:t.$t("archiveButton"),icon:"eva-archive-outline"},on:{click:function(o){return t.promptToMoveToArchive(t.book)}}}),t.book.completed?t._e():a("q-fab-action",{staticClass:"primary-gradient-background",attrs:{"text-color":"white",label:t.$t("finishedButton"),icon:"eva-award-outline"},on:{click:function(o){return t.promptToFinishReading(t.book)}}}),a("q-fab-action",{staticClass:"primary-gradient-background",attrs:{"text-color":"white",label:t.$t("rateButton"),icon:"eva-star-outline"},on:{click:t.showRateMyBookModal}})],1)],1):t._e(),t.isSearchTab?a("q-card-section",{staticClass:"modal-bottom-section"},[a("q-btn",{staticClass:"primary-gradient-background button-position",attrs:{flat:"",type:"submit","text-color":"white",label:t.$t("addBookButton")},on:{click:t.promptToAddBook}})],1):t._e(),a("q-dialog",{model:{value:t.showRateMyBook,callback:function(o){t.showRateMyBook=o},expression:"showRateMyBook"}},[a("rate-my-book-modal",{attrs:{_id:t.book._id,myRate:t.book.myRate},on:{close:function(o){t.showRateMyBook=!1}}})],1)],1)},i=[],s=e("ded3"),n=e.n(s),r=(e("e260"),e("d3b7"),e("e6cf"),e("3ca3"),e("ddb0"),e("2f62")),l={components:{ModalHeader:function(){return Promise.all([e.e(0),e.e(4)]).then(e.bind(null,"0f4a"))},RateMyBookModal:function(){return e.e(51).then(e.bind(null,"434d"))}},props:["id","book","isBookShelfTab","isSearchTab"],data:function(){return{ratingModel:this.book.rating,showRateMyBook:!1,myBookFab:!1,icons:["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_satisfied","sentiment_very_satisfied"]}},computed:{author:function(){return this.book.volumeInfo.authors.length>2?this.book.volumeInfo.authors[0]+" and more":this.book.volumeInfo.authors[0]},ratings:function(){return this.book.volumeInfo.averageRating||0},language:function(){if("ja"===this.book.volumeInfo.language)return"日本語"},thumbnailSize:function(){return window.innerWidth<600?"small-window-thumbnail":window.innerWidth>601?"regular-thumbnail":void 0}},methods:n()(n()({},Object(r["b"])("books",["addBookToBookshelf","updateMyBook","moveBook","removeMyBook"])),{},{showRateMyBookModal:function(){this.showRateMyBook=!0},promptToAddBook:function(){var t=this;this.$q.dialog({title:this.$t("confirm"),message:this.$t("addBook"),cancel:!0,persistent:!0}).onOk((function(){t.addBookToBookshelf(t.book),t.$emit("close")}))},promptToFinishReading:function(t){var o=this;this.$q.dialog({title:this.$t("confirm"),message:this.$t("finishReading"),cancel:!0,persistent:!0}).onOk((function(){var t=!o.book.completed,e={_id:o.book._id,completed:t};o.updateMyBook(e),o.$emit("close")}))},promptToMoveToArchive:function(t){var o=this;this.$q.dialog({title:this.$t("confirm"),message:this.$t("moveBook2"),cancel:!0,persistent:!0}).onOk((function(){var t=!o.book.archive,e={updates:{_id:o.book._id,archive:t},mode:"archive"};o.moveBook(e),o.$emit("close")}))},promptToRemove:function(t){var o=this;this.$q.dialog({title:this.$t("confirm"),message:this.$t("removeBook2"),cancel:!0,persistent:!0}).onOk((function(){var t={_id:o.book._id,mode:"shelf"};o.removeMyBook(t)}))}})},c=l,d=(e("1b75"),e("2877")),u=e("f09f"),b=e("a370"),m=e("cb32"),k=e("daf4"),h=e("eb85"),v=e("c294"),f=e("72db"),p=e("9c40"),g=e("24e8"),_=e("eebe"),y=e.n(_),B=Object(d["a"])(c,a,i,!1,null,"f5d85d52",null);o["default"]=B.exports;y()(B,"components",{QCard:u["a"],QCardSection:b["a"],QAvatar:m["a"],QRating:k["a"],QSeparator:h["a"],QFab:v["a"],QFabAction:f["a"],QBtn:p["a"],QDialog:g["a"]})},"131d":function(t,o,e){},"1b75":function(t,o,e){"use strict";e("131d")}}]);