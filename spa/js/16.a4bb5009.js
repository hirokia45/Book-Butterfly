(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{"13b4":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-card",{staticClass:"full-width q-pa-sm"},[o("modal-header",[t._v(t._s(t.$t("addNoteHeader")))]),o("div",{staticClass:"row justify-center"},[o("q-select",{staticClass:"q-mb-md",staticStyle:{width:"320px"},attrs:{options:t.options,disable:t.isFilled,label:t.$t("fillBookInfo"),outlined:"",rounded:"",dense:"",behavior:"menu"},on:{click:t.setBookInfo},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t.selected&&!t.isFilled&&t.checkIfLoaded?o("q-btn",{staticClass:"q-ml-sm q-mb-md",attrs:{color:"secondary",icon:"eva-edit-2-outline",outline:"",round:""},on:{click:t.setBookInfo}}):t._e(),t.isFilled&&t.checkIfLoaded?o("q-btn",{staticClass:"q-ml-sm q-mb-md",attrs:{color:"grey-10",icon:"eva-trash-2-outline",outline:"",round:""},on:{click:t.unsetBookInfo}}):t._e(),t.checkIfLoaded?t._e():o("q-btn",{staticClass:"q-ml-sm q-mb-md",attrs:{color:"cyan-6",icon:"eva-download-outline",outline:"",round:""},on:{click:t.loadMyBooks}})],1),o("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[o("q-card-section",{staticClass:"q-pt-none"},[o("modal-title",{ref:"modalTitle",attrs:{title:t.noteToSubmit.title},on:{"update:title":function(e){return t.$set(t.noteToSubmit,"title",e)}}}),o("modal-author",{attrs:{author:t.noteToSubmit.author},on:{"update:author":function(e){return t.$set(t.noteToSubmit,"author",e)}}}),o("div",{staticClass:"row justify-center"},[o("modal-pages",{attrs:{pageFrom:t.noteToSubmit.pageFrom,pageTo:t.noteToSubmit.pageTo},on:{"update:pageFrom":function(e){return t.$set(t.noteToSubmit,"pageFrom",e)},"update:page-from":function(e){return t.$set(t.noteToSubmit,"pageFrom",e)},"update:pageTo":function(e){return t.$set(t.noteToSubmit,"pageTo",e)},"update:page-to":function(e){return t.$set(t.noteToSubmit,"pageTo",e)}}}),o("q-btn",{staticClass:"q-ml-sm q-mb-md chapter-toggle",attrs:{color:t.showChapterInput?"gray-10":"cyan-6",icon:"eva-book-open-outline",size:"10px 10px",outline:"",round:""},on:{click:t.toggleChapterInput}})],1),t.showChapterInput?o("modal-chapter",{attrs:{chapter:t.noteToSubmit.chapter},on:{"update:chapter":function(e){return t.$set(t.noteToSubmit,"chapter",e)}}}):t._e(),o("modal-category",{attrs:{category:t.noteToSubmit.category},on:{"update:category":function(e){return t.$set(t.noteToSubmit,"category",e)}}}),o("modal-comment",{attrs:{comment:t.noteToSubmit.comment},on:{"update:comment":function(e){return t.$set(t.noteToSubmit,"comment",e)}}}),o("modal-button",{on:{saved:function(e){t.isSaved=!0}}})],1)],1)],1)},a=[],i=o("c973"),r=o.n(i),u=o("ded3"),s=o.n(u),l=(o("96cf"),o("d81d"),o("7db0"),o("d3b7"),o("2f62")),c=o("aa99"),d={mixins:[c["a"]],data:function(){return{noteToSubmit:{title:"",author:"",pageFrom:null,pageTo:null,chapter:"",category:"",comment:""},selected:"",isFilled:!1,showChapterInput:!1,isSaved:!1}},computed:s()(s()({},Object(l["c"])("books",["myBooks"])),{},{checkIfLoaded:function(){return this.myBooks.length>0},options:function(){return this.myBooks.map((function(t){return t.volumeInfo.title}))}}),methods:s()(s()(s()({},Object(l["b"])("notes",["addNote"])),Object(l["b"])("books",["getMyBooks"])),{},{submitNote:function(){var t=this;return r()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.addNote(t.noteToSubmit);case 3:t.isSaved=!0,t.$emit("close"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.$q.dialog({title:"Error",message:t.$t("errorAddNote")});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},setBookInfo:function(){var t=this,e=this.myBooks.find((function(e){return e.volumeInfo.title=t.selected}));this.noteToSubmit.title=e.volumeInfo.title,this.noteToSubmit.author=e.volumeInfo.authors[0],this.noteToSubmit.category=e.volumeInfo.categories[0],this.isFilled=!0},unsetBookInfo:function(){this.selected="",this.noteToSubmit.title="",this.noteToSubmit.author="",this.noteToSubmit.category="",this.isFilled=!1},loadMyBooks:function(){this.getMyBooks()},toggleChapterInput:function(){this.showChapterInput=!this.showChapterInput}})},m=d,f=(o("689e"),o("2877")),h=o("f09f"),p=o("ddd8"),b=o("9c40"),g=o("a370"),T=o("eebe"),k=o.n(T),S=Object(f["a"])(m,n,a,!1,null,"1b0dac3f",null);e["default"]=S.exports;k()(S,"components",{QCard:h["a"],QSelect:p["a"],QBtn:b["a"],QCardSection:g["a"]})},"689e":function(t,e,o){"use strict";o("f869")},aa99:function(t,e,o){"use strict";o("e260"),o("d3b7"),o("e6cf"),o("3ca3"),o("ddb0");var n,a,i={components:{ModalHeader:function(){return Promise.all([o.e(0),o.e(4)]).then(o.bind(null,"0f4a"))},ModalTitle:function(){return o.e(50).then(o.bind(null,"3884"))},ModalAuthor:function(){return o.e(46).then(o.bind(null,"7867b"))},ModalPages:function(){return o.e(25).then(o.bind(null,"e135"))},ModalChapter:function(){return o.e(48).then(o.bind(null,"905e"))},ModalCategory:function(){return o.e(47).then(o.bind(null,"0d37"))},ModalComment:function(){return o.e(49).then(o.bind(null,"7e58"))},ModalButton:function(){return o.e(2).then(o.bind(null,"c1b8"))}},methods:{submitForm:function(){this.$refs.modalTitle.$refs.title.validate(),this.$refs.modalTitle.$refs.title.hasError||this.submitNote()}}},r=i,u=o("2877"),s=Object(u["a"])(r,n,a,!1,null,null,null);e["a"]=s.exports},f869:function(t,e,o){}}]);